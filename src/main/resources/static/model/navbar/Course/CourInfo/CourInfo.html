<toaster-container toaster-options="{'position-class': 'toast-top-right', 'close-button':true}"></toaster-container>

<script type="text/x-kendo-template" id="gridEditor">
    <div class=" textboxes">

        <div class="k-edit-label"><label>学年</label></div>
        <div class="k-edit-field">
            <select kendo-drop-down-list
                    k-data-source="yearSource"
                    k-data-text-field="'year'"
                    k-data-value-field="'year'"
                    ng-model="dataItem.schoolYear">
            </select>
        </div>

        <div class="k-edit-label"><label>学期</label></div>
        <div class="k-edit-field">
            <select kendo-drop-down-list
                    k-data-source="termSource"
                    k-data-text-field="'term'"
                    k-data-value-field="'term'"
                    ng-model="dataItem.schoolTerm">
            </select>
        </div>

        <div class="k-edit-label"><label>课程编号</label></div>
        <div class="k-edit-field">
            <input type="text"  k-on-change="dataItem.dirty=true" class="k-input k-textbox ch" ng-model="dataItem.courseNo"/>
        </div>

        <div class="k-edit-label"><label>课程名称</label></div>
        <div class="k-edit-field">
            <input type="text"  k-on-change="dataItem.dirty=true" class="k-input k-textbox ch" ng-model="dataItem.courseName"/>
        </div>

        <div class="k-edit-label"><label>课程学分</label></div>
        <div class="k-edit-field">
            <input type="text"  k-on-change="dataItem.dirty=true" class="k-input k-textbox ch" ng-model="dataItem.courseCredit"/>
        </div>

        <div class="k-edit-label"><label>课程性质</label></div>
        <div class="k-edit-field">
            <select kendo-drop-down-list
                    k-data-source="courseKindSource"
                    k-data-text-field="'kind'"
                    k-data-value-field="'kind'"
                    ng-model="dataItem.courseKind">
            </select>
        </div>

        <div class="k-edit-label"><label>课时周数</label></div>
        <div class="k-edit-field">
            <input type="text"  k-on-change="dataItem.dirty=true" class="k-input k-textbox" ng-model="dataItem.courseWeek"/>
        </div>

        <div class="k-edit-label"><label>上课人数</label></div>
        <div class="k-edit-field">
            <input type="number"  k-on-change="dataItem.dirty=true" class="k-input k-textbox" ng-model="dataItem.count"/>
        </div>

    </div>
</script>

<div style="margin-bottom: 20px;">
    <span style="font-size: 30px;">课程信息维护</span>
</div>

<div style="text-align: center;margin-top: -50px">
    <kendo-button class="k-primary" ng-click="open()">开启网上选课</kendo-button>
    <kendo-button class="k-primary" ng-click="close()">关闭网上选课</kendo-button>
    <span style="font-size: 20px;">网上选课状态:{{state}}</span>
</div>


<div class="textboxes" style="margin:10px;">

    <div class="form-inline group-margin">
        <div class="form-group">
            <label>学年:</label>
            <select kendo-drop-down-list
                    k-data-source="yearSource"
                    k-data-text-field="'year'"
                    k-data-value-field="'year'"
                    ng-model="condition.schoolYear">
            </select>
        </div>

        <div class="form-group">
            <label>学期:</label>
            <select kendo-drop-down-list
                    k-data-source="termSource"
                    k-data-text-field="'term'"
                    k-data-value-field="'term'"
                    ng-model="condition.schoolTerm">
            </select>
        </div>

        <div class="form-group">
            <label>课程编号:</label>
            <input class="k-input k-textbox" ng-trim="true" ng-model="condition.courseNo">
        </div>

        <div class="form-group">
            <label>课程名称:</label>
            <input class="k-input k-textbox" ng-trim="true" ng-model="condition.courseName">
        </div>

        <div class="form-group">
            <label>课程性质:</label>
            <select kendo-drop-down-list
                    k-data-source="courseKindSource"
                    k-data-text-field="'kind'"
                    k-data-value-field="'kind'"
                    ng-model="condition.courseKind">
            </select>
            </div>

        <div class="form-group">
            <kendo-button class="k-primary" ng-click="query()">查询</kendo-button>
        </div>

    </div>
</div>

<div class="table-responsive">
    <div kendo-grid="grid"
         k-column-menu="true"
         k-sortable="true"
         k-resizable="true"
         k-navigatable="true"
         k-pageable="pageable"
         k-filterable="true"
         k-editable="editable"
         k-selectable="'row'"
         k-toolbar="toolbar"
         k-columns="columns"
         k-data-source="dataSource"
         k-on-edit="gridRowEdit(kendoEvent)">

    </div>
</div>
